<!DOCTYPE html>
<html>
  <head>
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="http://code.highcharts.com/highcharts.js"></script>
    <script src="http://code.highcharts.com/highcharts-more.js"></script>
    <script src="http://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.3.5/tabletop.min.js"></script>
    <script>
   
        $(function () { 

            var public_spreadsheet_url = 'https://docs.google.com/spreadsheets/d/1LTA_QPLo9I82TS2SlXcTUd8zDQNFskbf0fnKz9FMUWQ/pubhtml';


            var foods = [
                "Taco",
                "Ravioli",
                "Chocolate chips",
                "Muffins",
                "Oatmeal",
                "Soylent",
                "Ice cream",
                "Kale",
                "Bagel w/ cream cheese",
                "Tofu-flavored meat"
            ];


            var getData = function () {
                Tabletop.init({ 
                    "key": public_spreadsheet_url,
                    "callback": processData,
                    "simpleSheet": true
                });
              }

            var processData = function(data){
                console.log(data);

                var sample = {
                    "howmanyofthemhaveyoueaten": "1",
                    "rowNumber": 1,
                    "timestamp": "4/20/2015 21:29:12",
                    "whathaveyoueatenrecently": "MOCHI DONUT",
                    "whoareyou": "Hannah"
                }



                for(var i=0; i<data.length; i++) {

                    console.log(data[i].whoareyou, data[i].whathaveyoueatenrecently, data[i].howmanyofthemhaveyoueaten)

                }
            };


            getData();



            var data = [{
                name: 'Jane',
                data: [1, 0, 4, 11]
            }, {
                name: 'John',
                data: [5, 7, 3, 1]
            }];

            $('#container').highcharts({
                chart: {
                    type: 'bar'
                },
                title: {
                    text: 'Fruit Consumption'
                },
                xAxis: {
                    categories: foods
                },
                yAxis: {
                    title: {
                        text: 'Fruit eaten'
                    }
                },
                series: data
            });
        });


    </script>
  </head>
  <body>
<div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
  </body>
</html>
